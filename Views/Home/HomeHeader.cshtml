
@{
    ViewBag.Title = "HomeHeader";
}
<html>
<head>
    <title>Diamond HRP Pro 2017</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>

    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <style type="text/css">
        .bs-example {
            margin: 20px;
        }
    </style>
    
</head>

<body>
    <div>
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                    <a class="navbar-brand" href="#" style="padding-top: 2px;" margin-left 0px;>
                        <img alt="brang" src="~/image/logoDiamond.ico" height="48" width="48" />
                    </a>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="~/Home/index"><span class="glyphicon glyphicon-home"></span> Home</a></li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Security<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a data-toggle="modal" href="#myModalLogin"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
                                <li><a href="~/Home/ChangePassword" style="padding-left: 40px;">Change Password</a></li>
                                <li><a href="~/Home/CreateUser"><img alt="brang" src="~/image/user add.ico" height="16" width="16" /> User</a></li>
                                <li><a href="~/Home/GroupAccessTemplate"><img alt="brang" src="~/image/users.ico" height="16" width="16" /> Group Access Template</a></li>
                                <li><a href="~/Home/UserAccessRight"><img alt="brang" src="~/image/user.ico" height="16" width="16" /> User Aceess Rights</a></li>
                                <li class="divider"></li>
                                <li><a href="~/Login/Logout"><span class="glyphicon glyphicon-log-out"></span> Log Out</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Company Setup<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="~/Company/CompanyPreference"><img alt="brang" src="~/image/home.ico" height="16" width="16" /> Company Preference</a></li>
                                <li><a href="~/Company/Departement"><img alt="brang" src="~/image/Department.ico" height="16" width="16" /> Departement</a></li>
                                <li><a href="~/Company/JopPosition"><img alt="brang" src="~/image/JobPosition.ico" height="16" width="16" /> Job Position</a></li>
                                <li class="divider"></li>
                                <li><a href="~/Company/MachineInformation"><img alt="brang" src="~/image/FingerPrintDevice.ico" height="16" width="16" /> Finger Print Devices</a></li>
                                <li class="divider"></li>
                                <li><a href="~/Company/Timetables"><img alt="brang" src="~/image/TimeTable.ico" height="16" width="16" /> Timetables</a></li>
                                <li><a href="~/Company/ShiftTemplate"><img alt="brang" src="~/image/ShiftTable.ico" height="16" width="16" /> Shift Template</a></li>
                                <li><a href="~/Company/LeaveTypes"><img alt="brang" src="~/image/LeaveType.ico" height="16" width="16" /> Leave Types</a></li>
                                <li><a href="~/Company/TaxScheme" style="padding-left: 40px;">Tax Scheme</a></li>
                                <li><a href="~/Company/TaxExemption" style="padding-left: 40px;">Tax Exemption</a></li>
                                <li><a href="~/Company/Holiday"><img alt="brang" src="~/image/Holiday.ico" height="16" width="16" />Holiday</a></li>
                                <li><a href="~/Company/Contract" style="padding-left: 40px;">Contract</a></li>
                                <li class="divider"></li>
                                <li><a href="~/Company/MonthDefinition"><img alt="brang" src="~/image/MonthlyPay16.ico" height="16" width="16" /> Months/Payroll Peroid</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Employee<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="~/Employees/EmpPersonalPro"><img alt="brang" src="~/image/idcard.ico" height="16" width="16" /> Personal Profiles</a></li>
                                <li><a href="~/Employees/SalaryInformation"><img alt="brang" src="~/image/EmployeeSalaryInfo.ico" height="16" width="16" /> Salary Information</a></li>
                                <li><a href="~/Employees/DisciplinaryRecords"><img alt="brang" src="~/image/EmployeeWarning16.ico" height="16" width="16" /> Disciplinary Records</a></li>
                                <li class="divider"></li>
                                <li><a href="~/Employees/FPDownloadUpload"><img alt="brang" src="~/image/DownUpload16.ico" height="16" width="16" /> Finger Print Download Upload</a></li>
                                <li><a href="~/Employees/FPTransfer"><img alt="brang" src="~/image/FPTransfer.ico" height="16" width="16" /> Finger Print Transfer</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Attendance and Leave<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="~/Attendance/DownloadAtt"><img alt="brang" src="~/image/DownloadAttendanceRecord16.ico" height="16" width="16" /> Download Attendance Record</a></li>
                                <li><a href="~/Attendance/UploadCollectedData"><img alt="brang" src="~/image/UploadFromAccess16.ico" height="16" width="16" /> Upload Collected Data</a></li>
                                <li class="divider"></li>
                                <li><a href="~/Attendance/DailyAttendanceCalculation"><img alt="brang" src="~/image/DailyAttCal16.ico" height="16" width="16" /> Daily Attendance Calculation</a></li>
                                <li><a href="~/Attendance/ExceptionClock"><img alt="brang" src="~/image/ForgotClock.ico" height="16" width="16" /> Input/Adjust Forgot and Exception Clock Records</a></li>
                                <li class="divider"></li>
                                <li><a href="~/Attendance/DailyAttRecords"><img alt="brang" src="~/image/DailyAttendanceRecord16.ico" height="16" width="16" /> Daily Attendance Records</a></li>
                                <li><a href="~/Attendance/AllDailyAtt"><img alt="brang" src="~/image/AllDailyAttendanceRecord.ico" height="16" width="16" /> All Daily Attendance Records (Internal use)</a></li>
                                <li class="divider"></li>
                                <li><a href="~/Attendance/AssignEmpShift"><img alt="brang" src="~/image/AssignEmployeeShift16.ico" height="16" width="16" /> Assign Employee Shift</a></li>
                                <li><a href="~/Attendance/EmployeeLeaveRecords"><img alt="brang" src="~/image/EmployeeLeave16.ico" height="16" width="16" /> Employee Leave Records</a></li>
                                <li><a href="~/Attendance/EmployeeOutpassRecords"><img alt="brang" src="~/image/Outpass.ico" height="16" width="16" /> Employee Outpass Records</a></li>
                                <li><a href="~/Attendance/Holidays"><img alt="brang" src="~/image/Holiday.ico" height="16" width="16" /> Holidays</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Payroll<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="~/Payroll/MonthlyPayroll"><img alt="brang" src="~/image/MonthlyPay16.ico" height="16" width="16" /> Monthly Payroll</a></li>
                                <li class="divider"></li>
                                <li><a href="#"><img alt="brang" src="~/image/DailyPieceRatePay.ico" height="16" width="16" /> Daily Rate Pay</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Reports<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="~/Reports/ReportHR"><img alt="brang" src="~/image/HumanResourceReport.ico" height="16" width="16" /> HR</a></li>
                                <li><a href="~/Reports/RptAttLeave"><img alt="brang" src="~/image/LeaveReport.ico" height="16" width="16" /> Attendance and Leave</a></li>
                                <li><a href="~/Reports/ReportPayroll"><img alt="brang" src="~/image/PayReport.ico" height="16" width="16" /> Payroll</a></li>
                                <li class="divider"></li>
                                <li><a href="~/Reports/ReportMisc"><img alt="brang" src="~/image/HRReport.ico" height="16" width="16" /> Misc</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Help<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="#" style="padding-left: 40px;">About Diamond and Payroll</a></li>
                                <li><a href="#"><img alt="brang" src="~/image/home.ico" height="16" width="16" /> Credit</a></li>
                            </ul>
                        </li>
                    </ul>
                    @*<ul class="nav navbar-nav navbar-right">
                        <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                        <li><a href="~/Login/Logout"><span class="glyphicon glyphicon-log-out"></span> Log Out</a></li>

                    </ul>*@
                </div>
            </div>
        </nav>
        <div class="container MainForm">
            @RenderBody()
        </div>

        <!-- Modal -->
        <div class="modal fade" id="myModalLogin" role="dialog">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h3 class="panel-title">Login to Dimond HRP</h3>
                    </div>
                    <div class="modal-body">
                        <div class="input-group" style="margin-top:0px; margin-right :15px; margin-left:15px;">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input type="text" id="inputUserName" class="form-control" placeholder="Input Username">
                        </div>
                        <div class="input-group" style="margin-top:15px; margin-right :15px; margin-left:15px;">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                            <input type="password" id="inputPassword" class="form-control" placeholder="Input Password">
                        </div>
                        <div class="checkbox" style="margin-top:15px; margin-right :15px; margin-left:15px;">
                            <label><input type="checkbox"> Remember me</label>
                        </div>
                        <div class="form-inline" style="margin-top:0px;margin-right :15px; margin-left:15px;">
                            <button type="button" class="btn btn-primary btn-block" id="btnOk">Login</button>
                            @* <button type="reset" class="btn btn-default">Cancel</button>*@
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
<script>

    $(document).ready(function () {
        $("#btnOk").click(function () {
            var userName = $("#inputUserName").val();
            var pass = $("#inputPassword").val();
            $.ajax({
                url: "/Login/Login",
                type: "POST",
                dataType: 'json',
                data: { userName, pass },
                success: function (result) {
                    if (result.toString() == "success") {
                       location.href="/Home/index"
                    }
                    else {
                        alert(result);
                    }
                }
            });
        });
        $("#myModalLogin").focusout(function(){
           
            $("#inputUserName").val("");
            $("#inputPassword").val("");
        });
    });
</script>